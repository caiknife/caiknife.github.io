<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: crawler | 但行好事，莫问前程]]></title>
  <link href="http://caiknife.github.io/blog/categories/crawler/atom.xml" rel="self"/>
  <link href="http://caiknife.github.io/"/>
  <updated>2018-11-30T19:59:17+08:00</updated>
  <id>http://caiknife.github.io/</id>
  <author>
    <name><![CDATA[CaiKnife]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[使用Python脚本抓取早期知乎页面里的图片]]></title>
    <link href="http://caiknife.github.io/blog/2018/11/15/shi-yong-pythonjiao-ben-zhua-qu-zao-qi-zhi-hu-ye-mian-li-de-tu-pian/"/>
    <updated>2018-11-15T11:38:54+08:00</updated>
    <id>http://caiknife.github.io/blog/2018/11/15/shi-yong-pythonjiao-ben-zhua-qu-zao-qi-zhi-hu-ye-mian-li-de-tu-pian</id>
    <content type="html"><![CDATA[<p>很久很久以前，我在知乎看到了一个问题<a href="https://www.zhihu.com/question/37709992">长得好看，但没有男朋友是怎样的体验？</a>。</p>

<p>出于男性本能的需求，我就花了一个中午的时间写了个脚本，专门用于抓取知乎问题页面下的图片，然后就把我的代码写到了这个问题的<a href="https://www.zhihu.com/question/37709992/answer/121184589">答案</a>里。接着，又过了几天——我的答案被折叠了……</p>

<!-- more -->


<p>使用的 <code>Python</code> 版本是 2.7 ，用到的库是 <code>requests</code> 和 <code>pyquery</code> 。</p>

<p>Python 源码如下：</p>

<p>{% include_code zhihu/dl_with_names.py %}</p>

<p>使用方法很简单：</p>

<p><code>bash
python dl_with_names.py https://www.zhihu.com/question/37709992
</code></p>

<p>嗯，由于知乎页面改版了，所以现在并没有办法再下载了…… 只能再另外通过解决登录态的问题，看到问题页之后再想办法抓取图片。</p>

<p>上面这种方法适合有一定命令行基础的人群，对于普通人来说，更简单的方法是使用 <code>javascript</code> 。</p>

<p>{% include_code zhihu/dl.js %}</p>

<p>先在地址栏里输入 <code>javascript:</code> ， 再把上面的 JS 代码复制到地址栏里，回车之后就会在页面顶端出现问题页之内图片的链接。</p>

<p>不过由于现在知乎已经不用 <code>jQuery</code> 了，所以这段代码也失效了……</p>

<p>那还是写篇文章纪念一下吧。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[曾经写过的Ruby脚本]]></title>
    <link href="http://caiknife.github.io/blog/2013/08/12/ruby-script-in-history/"/>
    <updated>2013-08-12T23:25:00+08:00</updated>
    <id>http://caiknife.github.io/blog/2013/08/12/ruby-script-in-history</id>
    <content type="html"><![CDATA[<p>以前为了爬豆瓣和人人的美女图片，自己动手用Ruby写过一个爬虫。今天再来看看，几乎都看不懂了，晚上趁着休息时间把以前的代码温习温习，加上了注释，不过这代码已经证实在我的Ubuntu上是跑不动了。唉，开源软件版本更新得太快，以前的老代码放到现在都不能用了，真担心有一天自己也被淘汰，非常害怕啊。</p>

<p>代码很长，偶尔看一下，觉得自己还是能踏踏实实做一个苦逼的码农的，只是有时候人在江湖身不由己，你干的事情不一样是你自己喜欢干的。</p>

<!-- more -->


<p>{% include_code album_download/album_download.rb %}</p>

<p>{% include_code album_download/album.rb %}</p>

<p>{% include_code album_download/douban_album.rb %}</p>

<p>{% include_code album_download/renren_album.rb %}</p>

<p>用起来很简单，直接在命令行下输入：</p>

<p><code>bash
ruby album_download.rb [豆瓣相册链接或人人相册链接]
</code></p>

<p>不过这段代码再也跑不起来了，写这篇博文做个纪念吧。</p>

<p>最后还是想说，我喜欢Python胜过Ruby，不知道自己这辈子还有没有机会当一个Python程序员。</p>

<p>Have a nice day！</p>
]]></content>
  </entry>
  
</feed>
