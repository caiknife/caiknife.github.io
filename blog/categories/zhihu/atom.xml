<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: zhihu | 但行好事，莫问前程]]></title>
  <link href="http://caiknife.github.io/blog/categories/zhihu/atom.xml" rel="self"/>
  <link href="http://caiknife.github.io/"/>
  <updated>2018-11-30T19:59:17+08:00</updated>
  <id>http://caiknife.github.io/</id>
  <author>
    <name><![CDATA[CaiKnife]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[使用Python脚本抓取早期知乎页面里的图片]]></title>
    <link href="http://caiknife.github.io/blog/2018/11/15/shi-yong-pythonjiao-ben-zhua-qu-zao-qi-zhi-hu-ye-mian-li-de-tu-pian/"/>
    <updated>2018-11-15T11:38:54+08:00</updated>
    <id>http://caiknife.github.io/blog/2018/11/15/shi-yong-pythonjiao-ben-zhua-qu-zao-qi-zhi-hu-ye-mian-li-de-tu-pian</id>
    <content type="html"><![CDATA[<p>很久很久以前，我在知乎看到了一个问题<a href="https://www.zhihu.com/question/37709992">长得好看，但没有男朋友是怎样的体验？</a>。</p>

<p>出于男性本能的需求，我就花了一个中午的时间写了个脚本，专门用于抓取知乎问题页面下的图片，然后就把我的代码写到了这个问题的<a href="https://www.zhihu.com/question/37709992/answer/121184589">答案</a>里。接着，又过了几天——我的答案被折叠了……</p>

<!-- more -->


<p>使用的 <code>Python</code> 版本是 2.7 ，用到的库是 <code>requests</code> 和 <code>pyquery</code> 。</p>

<p>Python 源码如下：</p>

<p>{% include_code zhihu/dl_with_names.py %}</p>

<p>使用方法很简单：</p>

<p><code>bash
python dl_with_names.py https://www.zhihu.com/question/37709992
</code></p>

<p>嗯，由于知乎页面改版了，所以现在并没有办法再下载了…… 只能再另外通过解决登录态的问题，看到问题页之后再想办法抓取图片。</p>

<p>上面这种方法适合有一定命令行基础的人群，对于普通人来说，更简单的方法是使用 <code>javascript</code> 。</p>

<p>{% include_code zhihu/dl.js %}</p>

<p>先在地址栏里输入 <code>javascript:</code> ， 再把上面的 JS 代码复制到地址栏里，回车之后就会在页面顶端出现问题页之内图片的链接。</p>

<p>不过由于现在知乎已经不用 <code>jQuery</code> 了，所以这段代码也失效了……</p>

<p>那还是写篇文章纪念一下吧。</p>
]]></content>
  </entry>
  
</feed>
